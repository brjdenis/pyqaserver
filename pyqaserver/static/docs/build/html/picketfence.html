

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Picket Fence module &mdash; pyqaserver 2.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="VMAT module" href="vmat.html" />
    <link rel="prev" title="Starshot module" href="starshot.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> pyqaserver
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation and running</a></li>
<li class="toctree-l1"><a class="reference internal" href="administration.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="trends.html">Trends</a></li>
<li class="toctree-l1"><a class="reference internal" href="winstonlutz.html">Winston Lutz module</a></li>
<li class="toctree-l1"><a class="reference internal" href="starshot.html">Starshot module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Picket Fence module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#options">Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#results">Results</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vmat.html">VMAT module</a></li>
<li class="toctree-l1"><a class="reference internal" href="fieldsize.html">Field size module</a></li>
<li class="toctree-l1"><a class="reference internal" href="fieldrot.html">Field rotation module</a></li>
<li class="toctree-l1"><a class="reference internal" href="flatsym.html">Flatness/Symmetry module</a></li>
<li class="toctree-l1"><a class="reference internal" href="planarimaging.html">Planar imaging module</a></li>
<li class="toctree-l1"><a class="reference internal" href="catphan.html">Catphan module</a></li>
<li class="toctree-l1"><a class="reference internal" href="dynalog.html">Dynalog module</a></li>
<li class="toctree-l1"><a class="reference internal" href="imagereview.html">Image review</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html#included-software">Included software</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyqaserver</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Picket Fence module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/picketfence.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="picket-fence-module">
<h1>Picket Fence module<a class="headerlink" href="#picket-fence-module" title="Permalink to this headline">¶</a></h1>
<p>This module analyzes Varian’s picket fence images. Pylinac’s module has been modified to allow for other types of MLCs, for example Agility.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Before you start using this module make sure that it is working as you would expect. You should create a dynamic beam that simulates a picket fence with intentional errors, and see if they are detected correctly.</p>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt><strong>Clip box</strong></dt><dd><p>Sometimes images have unwanted artifacts at the edges. Here you can enter the size of the central portion of the image beyond which pixel values will be set to background signal. If you don’t want to clip the image, put 0.</p>
</dd>
<dt><strong>Filter</strong></dt><dd><p>Apply a median filter to the image. If 0, then no additional filtering is performed. See Pylinac and scipy.ndimage.median_filter for further information.</p>
</dd>
<dt><strong>Num of pickets</strong></dt><dd><p>If too many pickets are detected, you can try to force the number of pickets beforehand. If 0, no number is defined. See Pylinac for further information.</p>
</dd>
<dt><strong>Sag adjust</strong></dt><dd><p>If 0, no adjustment is made. Otherwise Pylinac will shift the MLCs laterally according to the value that you entered.</p>
</dd>
<dt><strong>MLC type</strong></dt><dd><p>Select the appropriate MLC type. Note that this only changes how the pickets are sampled. Similarly to the Fieldsize module the lateral geometry of the leaves may not be totally correct because the dimensions are physical not dosimetric.</p>
</dd>
<dt><strong>Orientation</strong></dt><dd><p>If you have problems with the orientation of the pickets, you can force the orientation here.</p>
</dd>
<dt><strong>Invert image?</strong></dt><dd><p>Check this box if you wish to invert the image.</p>
</dd>
<dt><strong>Load machine log</strong></dt><dd><p>Not available in this version.</p>
</dd>
</dl>
</div>
<div class="section" id="results">
<h2>Results<a class="headerlink" href="#results" title="Permalink to this headline">¶</a></h2>
<dl>
<dt><strong>Image</strong></dt><dd><p>Each picket is delimited with two green lines. The spacing between the lines corresponds to the tolerance level.</p>
<p>Within the lines dashes correspond to the center (fwhm) of the region formed by the MLC pairs. If the leaf pair has passed the tolerance, the dash will be colored blue. If the leaf pair has passed the tolerance, but not the action tolerance, the dash will be colored purple. If the leaf pair is not within tolerance, the dash will be colored red.</p>
<p>The error histogram shows the error and std of each leaf pair averaged over all the pickets. If you hover over the bars, additional information will be shown. The yellow line is the action tolerance, the red line is the tolerance.</p>
<p>The red cross on the image represents the image center. If the dicom image contains the <em>XRayImageReceptorTranslation</em> tag, it will be taken into account. This is useful on modern Varian linacs.</p>
<img alt="_images/picketfence1.png" class="align-center" src="_images/picketfence1.png" />
</dd>
<dt><strong>Results</strong></dt><dd><ul class="simple">
<li><dl class="simple">
<dt>Nr of picket</dt><dd><p>How many pickets were detected.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Pass prcnt</dt><dd><p>Passing percentage.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Max error</dt><dd><p>Maximum overall deviation.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Max error picket</dt><dd><p>Which picket line has the max error.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Max error leaf</dt><dd><p>Which leaf pair has the max error. Leaf pair are enumerated from left to right (or up-down), starting with 0.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Median error</dt><dd><p>The median of all errors.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Mean picket spacing</dt><dd><p>The average spacing between picket lines.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Mean FWHM</dt><dd><p>The average fwhm of all picket lines. Fwhm is evaluated from the mean MLC profile for each peak.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Offset from CAX</dt><dd><p>The distance of each picket line from the CAX (red cross).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>FWHM</dt><dd><p>The fwhm of each picket line evaluated from the mean MLC profile.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Passed</dt><dd><p>If the max error is within tolerance, the picket will pass the test.</p>
</dd>
</dl>
</li>
</ul>
<p>Histogram shows the distribution of errors for all leaf pairs. If there are 7 pickets, each having 50 leaf pairs, then the histogram will have 350 counts altogether.</p>
<p>The MLC mean profile plot demonstrates the peaks for each picket line. Yellow dots signal the start and stop pixels between which peaks and fwhm are calculated. Horizontal dashes represent the fwhm. Because of the rounding effect, dashes may not be exactly horizontal.</p>
<img alt="_images/picketfence2.png" class="align-center" src="_images/picketfence2.png" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The calculation of FWHM is done independently of Pylinac.</p>
</div>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="vmat.html" class="btn btn-neutral float-right" title="VMAT module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="starshot.html" class="btn btn-neutral float-left" title="Starshot module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, Denis Brojan

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>